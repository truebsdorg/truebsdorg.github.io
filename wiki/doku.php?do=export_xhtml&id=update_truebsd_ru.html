<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>update_truebsd_ru</title>
<meta name="generator" content="DokuWiki Release 2009-02-14" />
<meta name="robots" content="index,follow" />
<meta name="date" content="2013-01-18T14:32:16-0500" />
<meta name="keywords" content="update_truebsd_ru" />
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="TrueBSD Project" />
<link rel="start" href="index.html" />
<link rel="contents" href="doku.php%3Fid=update_truebsd_ru&amp;do=index.html" title="Index" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php%3Fmode=list&amp;ns=" />
<link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fdo=export_xhtml&amp;id=update_truebsd_ru.html" />
<link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fdo=export_raw&amp;id=update_truebsd_ru" />
<link rel="stylesheet" media="all" type="text/css" href="lib/exe/css.php%3Fs=all&amp;t=default.css" />
<link rel="stylesheet" media="screen" type="text/css" href="lib/exe/css.php%3Ft=default.css" />
<link rel="stylesheet" media="print" type="text/css" href="lib/exe/css.php%3Fs=print&amp;t=default.css" />
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php%3Fedit=0&amp;write=0" ></script>
</head>
<body>
<div class="dokuwiki export">
<!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="doku.php%3Fdo=export_xhtml&amp;id=update_truebsd_ru.html#оновлення_базової_системи_truebsd" class="toc">1. Оновлення базової системи TrueBSD</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="doku.php%3Fdo=export_xhtml&amp;id=update_truebsd_ru.html#оновлення_вихідних_текстів_usr_src" class="toc">1.1 Оновлення вихідних текстів /usr/src</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="doku.php%3Fdo=export_xhtml&amp;id=update_truebsd_ru.html#настройка_майбутньої_системи" class="toc">1.2 Настройка майбутньої системи</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="doku.php%3Fdo=export_xhtml&amp;id=update_truebsd_ru.html#збирання_нової_системи" class="toc">1.3 Збирання нової системи</a></span></div></li>
</ul>
</li>
<li class="level1"><div class="li"><span class="li"><a href="doku.php%3Fdo=export_xhtml&amp;id=update_truebsd_ru.html#оновлення_колекції_портів_та_встановленого_пз" class="toc">2. Оновлення колекції портів та встановленого ПЗ</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="doku.php%3Fdo=export_xhtml&amp;id=update_truebsd_ru.html#оновлення_портів" class="toc">2.1 Оновлення портів</a></span></div></li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->

<p>
<em class="u">Актуальність</em>: для версії TrueBSD 2.0-RC2 і вище
</p>



<h1><a name="оновлення_базової_системи_truebsd" id="оновлення_базової_системи_truebsd">1. Оновлення базової системи TrueBSD</a></h1>
<div class="level1">

</div>
<!-- SECTION "1. Оновлення базової системи TrueBSD" [80-152] -->
<h2><a name="оновлення_вихідних_текстів_usr_src" id="оновлення_вихідних_текстів_usr_src">1.1 Оновлення вихідних текстів /usr/src</a></h2>
<div class="level2">

<p>
Для виконання всіх дій нам необхідні права доступу root. Заходимо в оболонку адміністратора:

</p>
<pre class="code">
%sudo su
#
</pre>

<p>

Для оновлення вихідних текстів базової системи TrueBSD використовується скрипт getsrc:

</p>
<pre class="code">
#sh /usr/src/getsrc
</pre>

</div>
<!-- SECTION "1.1 Оновлення вихідних текстів /usr/src" [153-605] -->
<h2><a name="настройка_майбутньої_системи" id="настройка_майбутньої_системи">1.2 Настройка майбутньої системи</a></h2>
<div class="level2">

<p>
Зібрати базову систему можливо ввімкнувши/вимкнувши окремі компоненти, опис яких наводиться у файлі /usr/share/examples/etc/make.conf. Для цього скопіюйте цей файл в /etc та відредактуйте його у відповідності з вашими потребами:

</p>
<pre class="code">
#cp /usr/share/examples/etc/make.conf /etc
#mcedit /etc/make.conf
</pre>

<p>

Для використання конфігураційного файлу TRUEBSD (/truebsd/conf/TRUEBSD) при компіляції нового ядра необхідно його помістити в каталог /usr/src/sys/i386/conf:

</p>
<pre class="code">
#cp /truebsd/conf/TRUEBSD /usr/src/sys/i386/conf/
</pre>

<p>

При необхідності його можна відредагувати, закоментувавши непотрібні рядки символом &#039;#&#039; (без лапок):

</p>
<pre class="code">
#mcedit /usr/src/sys/i386/conf/TRUEBSD
</pre>

</div>
<!-- SECTION "1.2 Настройка майбутньої системи" [606-1694] -->
<h2><a name="збирання_нової_системи" id="збирання_нової_системи">1.3 Збирання нової системи</a></h2>
<div class="level2">

<p>
Очищаємо старі тимчасові файли:

</p>
<pre class="code">
#rm -r /usr/obj
#cd /usr/src
#make clean
</pre>

<p>

Збираємо “Всесвіт” (базову систему) таким чином:

</p>
<pre class="code">
#make buildworld
</pre>

<p>

Після чого збираємо нове ядро:

</p>
<pre class="code">
#make buildkernel KERNCONF=TRUEBSD
</pre>

<p>

Інсталюємо нове ядро:

</p>
<pre class="code">
#make installkernel KERNCONF=TRUEBSD
</pre>

<p>

Вносимо зміни в стару структуру конфігів (на нову):

</p>
<pre class="code">
#mergemaster -p
#mergemaster
</pre>

<p>

Інсталюємо нову базову систему:

</p>
<pre class="code">
#make installworld
</pre>

<p>

Перезавантажуємо ОС:

</p>
<pre class="code">
#reboot
</pre>

</div>
<!-- SECTION "1.3 Збирання нової системи" [1695-2476] -->
<h1><a name="оновлення_колекції_портів_та_встановленого_пз" id="оновлення_колекції_портів_та_встановленого_пз">2. Оновлення колекції портів та встановленого ПЗ</a></h1>
<div class="level1">

</div>
<!-- SECTION "2. Оновлення колекції портів та встановленого ПЗ" [2477-2578] -->
<h2><a name="оновлення_портів" id="оновлення_портів">2.1 Оновлення портів</a></h2>
<div class="level2">

</div>
<!-- SECTION "2.1 Оновлення портів" [2579-] --></div>
</body>
</html>
