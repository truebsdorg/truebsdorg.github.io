<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
 lang="en" dir="ltr">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>
    update_truebsd_ru    [TrueBSD Project]
  </title>

  <meta name="generator" content="DokuWiki Release 2009-02-14" />
<meta name="robots" content="index,follow" />
<meta name="date" content="2013-01-18T14:32:16-0500" />
<meta name="keywords" content="update_truebsd_ru" />
<link rel="search" type="application/opensearchdescription+xml" href="lib/exe/opensearch.php" title="TrueBSD Project" />
<link rel="start" href="index.html" />
<link rel="contents" href="doku.php%3Fid=update_truebsd_ru&amp;do=index.html" title="Index" />
<link rel="alternate" type="application/rss+xml" title="Recent Changes" href="feed.php" />
<link rel="alternate" type="application/rss+xml" title="Current Namespace" href="feed.php%3Fmode=list&amp;ns=" />
<link rel="alternate" type="text/html" title="Plain HTML" href="doku.php%3Fdo=export_xhtml&amp;id=update_truebsd_ru.html" />
<link rel="alternate" type="text/plain" title="Wiki Markup" href="doku.php%3Fdo=export_raw&amp;id=update_truebsd_ru" />
<link rel="stylesheet" media="all" type="text/css" href="lib/exe/css.php%3Fs=all&amp;t=default.css" />
<link rel="stylesheet" media="screen" type="text/css" href="lib/exe/css.php%3Ft=default.css" />
<link rel="stylesheet" media="print" type="text/css" href="lib/exe/css.php%3Fs=print&amp;t=default.css" />
<script type="text/javascript" charset="utf-8" src="lib/exe/js.php%3Fedit=0&amp;write=0" ></script>

  <link rel="shortcut icon" href="lib/tpl/default/images/favicon.ico" />

  </head>

<body>
<div class="dokuwiki">
  
  <div class="stylehead">

    <div class="header">
      <div class="pagename">
        [[<a href="doku.php%3Fid=update_truebsd_ru&amp;do=backlink.html"  title="Backlinks">update_truebsd_ru</a>]]
      </div>
      <div class="logo">
        <a href="index.html"  name="dokuwiki__top" id="dokuwiki__top" accesskey="h" title="[H]">TrueBSD Project</a>      </div>

      <div class="clearer"></div>
    </div>

    
    <div class="bar" id="bar__top">
      <div class="bar-left" id="bar__topleft">
        <form class="button btn_source" method="post" action="index.html"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="hidden" name="id" value="update_truebsd_ru" /><input type="submit" value="Show pagesource" class="button" accesskey="v" title="Show pagesource [V]" /></div></form>        <form class="button btn_revs" method="get" action="index.html"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="hidden" name="id" value="update_truebsd_ru" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" /></div></form>      </div>

      <div class="bar-right" id="bar__topright">
        <form class="button btn_recent" method="get" action="index.html"><div class="no"><input type="hidden" name="do" value="recent" /><input type="hidden" name="id" value="update_truebsd_ru" /><input type="submit" value="Recent changes" class="button" accesskey="r" title="Recent changes [R]" /></div></form>        <form action="index.html" accept-charset="utf-8" class="search" id="dw__search"><div class="no"><input type="hidden" name="do" value="search" /><input type="text" id="qsearch__in" accesskey="f" name="id" class="edit" title="[F]" /><input type="submit" value="Search" class="button" title="Search" /><div id="qsearch__out" class="ajax_qsearch JSpopup"></div></div></form>&nbsp;
      </div>

      <div class="clearer"></div>
    </div>

        <div class="breadcrumbs">
      <span class="bchead">Trace:</span> <span class="bcsep">&raquo;</span> <a href="doku.php%3Fid=main.html"  class="breadcrumbs" title="main">main</a> <span class="bcsep">&raquo;</span> <a href="doku.php%3Fid=truebsd_2.0-rc2_handbook_be.html"  class="breadcrumbs" title="truebsd_2.0-rc2_handbook_be">truebsd_2.0-rc2_handbook_be</a> <span class="bcsep">&raquo;</span> <a href="doku.php%3Fid=truebsd_2.0_rc2_changelog_be.html"  class="breadcrumbs" title="truebsd_2.0_rc2_changelog_be">truebsd_2.0_rc2_changelog_be</a> <span class="bcsep">&raquo;</span> <a href="doku.php%3Fid=truebsd_2.0-rc2_handbook_ru.html"  class="breadcrumbs" title="truebsd_2.0-rc2_handbook_ru">truebsd_2.0-rc2_handbook_ru</a> <span class="bcsep">&raquo;</span> <a href="doku.php%3Fid=truebsd_2.0_rc2_changelog_ru.html"  class="breadcrumbs" title="truebsd_2.0_rc2_changelog_ru">truebsd_2.0_rc2_changelog_ru</a> <span class="bcsep">&raquo;</span> <span class="curid"><a href="doku.php%3Fid=update_truebsd_ru.html"  class="breadcrumbs" title="update_truebsd_ru">update_truebsd_ru</a></span>          </div>
    
    
  </div>
  
  
  <div class="page">
    <!-- wikipage start -->
    <!-- TOC START -->
<div class="toc">
<div class="tocheader toctoggle" id="toc__header">Table of Contents</div>
<div id="toc__inside">

<ul class="toc">
<li class="level1"><div class="li"><span class="li"><a href="doku.php%3Fid=update_truebsd_ru.html#оновлення_базової_системи_truebsd" class="toc">1. Оновлення базової системи TrueBSD</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="doku.php%3Fid=update_truebsd_ru.html#оновлення_вихідних_текстів_usr_src" class="toc">1.1 Оновлення вихідних текстів /usr/src</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="doku.php%3Fid=update_truebsd_ru.html#настройка_майбутньої_системи" class="toc">1.2 Настройка майбутньої системи</a></span></div></li>
<li class="level2"><div class="li"><span class="li"><a href="doku.php%3Fid=update_truebsd_ru.html#збирання_нової_системи" class="toc">1.3 Збирання нової системи</a></span></div></li>
</ul>
</li>
<li class="level1"><div class="li"><span class="li"><a href="doku.php%3Fid=update_truebsd_ru.html#оновлення_колекції_портів_та_встановленого_пз" class="toc">2. Оновлення колекції портів та встановленого ПЗ</a></span></div>
<ul class="toc">
<li class="level2"><div class="li"><span class="li"><a href="doku.php%3Fid=update_truebsd_ru.html#оновлення_портів" class="toc">2.1 Оновлення портів</a></span></div></li></ul>
</li></ul>
</div>
</div>
<!-- TOC END -->

<p>
<em class="u">Актуальність</em>: для версії TrueBSD 2.0-RC2 і вище
</p>



<h1><a name="оновлення_базової_системи_truebsd" id="оновлення_базової_системи_truebsd">1. Оновлення базової системи TrueBSD</a></h1>
<div class="level1">

</div>

<h2><a name="оновлення_вихідних_текстів_usr_src" id="оновлення_вихідних_текстів_usr_src">1.1 Оновлення вихідних текстів /usr/src</a></h2>
<div class="level2">

<p>
Для виконання всіх дій нам необхідні права доступу root. Заходимо в оболонку адміністратора:

</p>
<pre class="code">
%sudo su
#
</pre>

<p>

Для оновлення вихідних текстів базової системи TrueBSD використовується скрипт getsrc:

</p>
<pre class="code">
#sh /usr/src/getsrc
</pre>

</div>

<h2><a name="настройка_майбутньої_системи" id="настройка_майбутньої_системи">1.2 Настройка майбутньої системи</a></h2>
<div class="level2">

<p>
Зібрати базову систему можливо ввімкнувши/вимкнувши окремі компоненти, опис яких наводиться у файлі /usr/share/examples/etc/make.conf. Для цього скопіюйте цей файл в /etc та відредактуйте його у відповідності з вашими потребами:

</p>
<pre class="code">
#cp /usr/share/examples/etc/make.conf /etc
#mcedit /etc/make.conf
</pre>

<p>

Для використання конфігураційного файлу TRUEBSD (/truebsd/conf/TRUEBSD) при компіляції нового ядра необхідно його помістити в каталог /usr/src/sys/i386/conf:

</p>
<pre class="code">
#cp /truebsd/conf/TRUEBSD /usr/src/sys/i386/conf/
</pre>

<p>

При необхідності його можна відредагувати, закоментувавши непотрібні рядки символом &#039;#&#039; (без лапок):

</p>
<pre class="code">
#mcedit /usr/src/sys/i386/conf/TRUEBSD
</pre>

</div>

<h2><a name="збирання_нової_системи" id="збирання_нової_системи">1.3 Збирання нової системи</a></h2>
<div class="level2">

<p>
Очищаємо старі тимчасові файли:

</p>
<pre class="code">
#rm -r /usr/obj
#cd /usr/src
#make clean
</pre>

<p>

Збираємо “Всесвіт” (базову систему) таким чином:

</p>
<pre class="code">
#make buildworld
</pre>

<p>

Після чого збираємо нове ядро:

</p>
<pre class="code">
#make buildkernel KERNCONF=TRUEBSD
</pre>

<p>

Інсталюємо нове ядро:

</p>
<pre class="code">
#make installkernel KERNCONF=TRUEBSD
</pre>

<p>

Вносимо зміни в стару структуру конфігів (на нову):

</p>
<pre class="code">
#mergemaster -p
#mergemaster
</pre>

<p>

Інсталюємо нову базову систему:

</p>
<pre class="code">
#make installworld
</pre>

<p>

Перезавантажуємо ОС:

</p>
<pre class="code">
#reboot
</pre>

</div>

<h1><a name="оновлення_колекції_портів_та_встановленого_пз" id="оновлення_колекції_портів_та_встановленого_пз">2. Оновлення колекції портів та встановленого ПЗ</a></h1>
<div class="level1">

</div>

<h2><a name="оновлення_портів" id="оновлення_портів">2.1 Оновлення портів</a></h2>
<div class="level2">

</div>

    <!-- wikipage stop -->
  </div>

  <div class="clearer">&nbsp;</div>

  
  <div class="stylefoot">

    <div class="meta">
      <div class="user">
              </div>
      <div class="doc">
        update_truebsd_ru.txt &middot; Last modified: 18-01-2013 (14:32) (external edit)      </div>
    </div>

   
    <div class="bar" id="bar__bottom">
      <div class="bar-left" id="bar__bottomleft">
        <form class="button btn_source" method="post" action="index.html"><div class="no"><input type="hidden" name="do" value="edit" /><input type="hidden" name="rev" value="" /><input type="hidden" name="id" value="update_truebsd_ru" /><input type="submit" value="Show pagesource" class="button" accesskey="v" title="Show pagesource [V]" /></div></form>        <form class="button btn_revs" method="get" action="index.html"><div class="no"><input type="hidden" name="do" value="revisions" /><input type="hidden" name="id" value="update_truebsd_ru" /><input type="submit" value="Old revisions" class="button" accesskey="o" title="Old revisions [O]" /></div></form>      </div>
      <div class="bar-right" id="bar__bottomright">
                                        <form class="button btn_login" method="get" action="index.html"><div class="no"><input type="hidden" name="do" value="login" /><input type="hidden" name="sectok" value="4ce226334a441f2a8d9af7ccd8c7eba9" /><input type="hidden" name="id" value="update_truebsd_ru" /><input type="submit" value="Login" class="button" title="Login" /></div></form>        <form class="button btn_index" method="get" action="index.html"><div class="no"><input type="hidden" name="do" value="index" /><input type="hidden" name="id" value="update_truebsd_ru" /><input type="submit" value="Index" class="button" accesskey="x" title="Index [X]" /></div></form>        <a class="nolink" href="doku.php%3Fid=update_truebsd_ru.html#dokuwiki__top"><input type="button" class="button" value="Back to top" onclick="window.scrollTo(0, 0)" title="Back to top" /></a>&nbsp;
      </div>
      <div class="clearer"></div>
    </div>

  </div>

  <div class="license">Except where otherwise noted, content on this wiki is licensed under the following license:<a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" class="urlextern">CC Attribution-Noncommercial-Share Alike 3.0 Unported</a></div>
</div>
<div class="footerinc">
<br> 
<a  href="feed.php" title="Recent changes RSS feed"><img src="lib/tpl/default/images/button-rss.png" width="80" height="15" alt="Recent changes RSS feed" /></a>

        <a  href="http://creativecommons.org/licenses/by-nc-sa/3.0/" rel="license" title="CC Attribution-Noncommercial-Share Alike 3.0 Unported"><img src="lib/images/license/button/cc-by-nc-sa.png" width="80" height="15" alt="" /></a>
  
  <a  href="http://www.dokuwiki.org/donate" title="Donate"><img src="lib/tpl/default/images/button-donate.gif" alt="Donate" width="80" height="15" /></a>

  <a  href="http://www.php.net" title="Powered by PHP"><img src="lib/tpl/default/images/button-php.gif" width="80" height="15" alt="Powered by PHP" /></a>

  <a  href="http://validator.w3.org/check/referer" title="Valid XHTML 1.0"><img src="lib/tpl/default/images/button-xhtml.png" width="80" height="15" alt="Valid XHTML 1.0" /></a>

  <a  href="http://jigsaw.w3.org/css-validator/check/referer?profile=css3" title="Valid CSS"><img src="lib/tpl/default/images/button-css.png" width="80" height="15" alt="Valid CSS" /></a>

  <a  href="http://dokuwiki.org/" title="Driven by DokuWiki"><img src="lib/tpl/default/images/button-dw.png" width="80" height="15" alt="Driven by DokuWiki" /></a>



</div>

<div class="no"><img src="lib/exe/indexer.php%3Fid=update_truebsd_ru&amp;1450205877" width="1" height="1" alt=""  /></div>
</body>
</html>
